---
layout: single
title:  "Thread.sleep()의 인터럽트 처리"
folder: "java"
categories:
  - java
permalink: categories/java/java005
tags: JAVA
toc: true
toc_sticky: true
sidebar_main: true
published: true
---

## Thread.sleep()과 InterruptedException
스레드에 <span style="color: rgb(3, 150, 150); font-weight: bold;">`sleep()`</span> 메서드를 호출하면 실행 중인 스레드를 지정된 시간 동안 **일시 정지(Timed Waiting)**시킬 수 있습니다. 여기서 알아두어야 할 사실은 Thread.sleep() 자체로는 **인터럽트가 발생하지 않는다는 것입니다.** 다른 스레드에서 <span style="color: rgb(3, 150, 150); font-weight: bold;">`interrupt()`</span>를 호출하면 sleep() 상태에 있는 스레드가 인터럽트 예외를 받는 구조입니다.

Thread를 상속받는 임의의 스레드나 Runnable 인터페이스를 구현한 클래스 모두 run() 메서드를 재정의해야 합니다. 이때 Thread, Runnable 내에 있는 부모 클래스의 run() 메서드는 모든 체크 예외를 밖으로 던지지 못하도록 구현되어있기 때문에, 자식 클래스 또한 <span style="color: rgb(3, 150, 150); font-weight: bold;">`throws`</span>를 통해 오류를 던지는 방식이 아닌 <span style="color: rgb(3, 150, 150); font-weight: bold;">`try-catch`</span>를 활용해 run() 메서드 내부에서 오류를 잡아 처리해야 합니다.

정리하면 sleep()을 사용하는 run() 메서드는 다른 스레드로부터 인터럽트를 받을 가능성이 있기 때문에 항상 try-catch를 통해 인터럽트 예외를 잡아 처리할 준비를 해야 합니다.

```java
class MyThread extends Thread {
    public void run() {
        try {
            System.out.println("Sleeping...");
            Thread.sleep(5000); //5초 동안 대기
        } catch (InterruptedException e) {
            System.out.println("Interrupted while sleeping!");
        }
    }
}

public class SleepInterruptExample {
    public static void main(String[] args) {
        MyThread mythread = new MyThread();
        mythread.start();

        try {
            Thread.sleep(2000); //main 스레드 2초 동안 대기
            mythread.interrupt(); //mythread 스레드에 인터럽트 발생시키기
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
```

```
Sleeping...
Interrupted while sleeping!
```