---
layout: single
title:  "CPU 스케줄링"
folder: "os"
categories:
  - operatingsystem
permalink: categories/operatingsystem/os006
tags: OS
toc: true
toc_sticky: true
sidebar_main: true
published: true
---

## 스케줄링 알고리즘
<span style="color: rgb(3, 150, 150); font-weight: bold;">`CPU 스케줄러`</span>는 실행될 프로세스를 선택하고 CPU에게 스레드를 배정하는 역할을 합니다. 스케줄링 알고리즘은 CPU의 작업 시간을 임의로 선점할 수 있는지에 따라 크게 비선점형(non-preemptive)과 선점형(preemptive)으로 나눌 수 있습니다.

비선점형 스케줄링의 대표적인 알고리즘은 <span style="color: rgb(3, 150, 150); font-weight: bold;">`FCFS(First Come First Served)`</span>가 있습니다. 프로세스의 실행 시간과는 관계없이 준비 큐에 먼저 도착한 프로세스를 우선적으로 실행하는 알고리즘입니다.

FCFS 방식은 실행 시간이 긴 프로세스가 먼저 도착할 시 다른 프로세스는 해당 작업이 끝날 때까지 대기해야 하는 **콘보이 효과(Convoy Effect)**가 발생할 수 있습니다.

<span style="color: rgb(3, 150, 150); font-weight: bold;">`SJF(Shortest Job First)`</span> 알고리즘은 준비 큐에서 실행 시간이 짧은 프로세스를 우선적으로 실행하는 알고리즘입니다. FCFS에 비해 콘보이 효과는 줄어들지만 실행 시간이 긴 프로세스가 상대적으로 짧은 프로세스에 의해 계속 후순위가 되어 실행되지 못하는 **아사 현상(Starvation)**이 발생할 수 있습니다.

선점형 알고리즘에는 <span style="color: rgb(3, 150, 150); font-weight: bold;">`라운드 로빈(Round Robin)`</span> 방식이 있습니다. 라운드 로빈은 가장 기본적인 시분할 처리 방식을 사용합니다. 문맥 교환(Context Switching)에 걸리는 시간을 고려하여 적당한 크기로 타임 슬라이스를 설정해 프로세스를 처리하는 것이 요구됩니다.

<span style="color: rgb(3, 150, 150); font-weight: bold;">`SRT(Shortest Remaining Time)`</span> 알고리즘은 라운드 로빈을 기본으로 하되, 남은 실행 시간이 가장 적은 프로세스를 우선적으로 실행합니다.

<span style="color: rgb(3, 150, 150); font-weight: bold;">`다단계 큐 스케줄링(Multilevel Queue)`</span>은 준비 큐 사이에 우선순위를 부여하는 방식입니다. 또한 각 큐는 프로세스의 우선순위와 작업 형태를 고려해 스케줄링 알고리즘을 별도로 선택하여 사용할 수 있습니다. 다단계 큐 스케줄링 방식은 가장 우선순위가 높은 큐의 프로세스가 모두 끝나야 다음 큐의 작업이 시작되므로 우선순위가 높은 프로세스가 계속 추가된다면 큐와 큐 사이에서 아사 현상이 발생할 수 있습니다.

<span style="color: rgb(3, 150, 150); font-weight: bold;">`다단계 피드백 큐 스케줄링(Multilevel Feedback Queue)`</span>은 우선순위가 낮은 프로세스에게 불리한 다단계 큐 스케줄링의 단점을 보완한 방식입니다. 한번 CPU를 사용하고 난 프로세스는 현재 우선순위보다 **한 단계 낮은 큐**로 들어가 우선순위가 낮은 큐에 속한 프로세스의 실행이 연기되는 문제를 완화합니다.

다단계 피드백 큐 스케줄링은 큐의 우선순위가 낮을수록 할당받는 타임 슬라이스의 크기가 커집니다. 가장 낮은 우선순위를 가지는 준비 큐의 경우에는 **FCFS 알고리즘(일괄 처리)** 방식으로 큐가 동작하도록 설정합니다. 이는 가장 낮은 순위의 프로세스는 CPU를 점유할 확률이 낮기 때문에 한 번 할당되었을 때 프로세스 전체를 완료할 수 있게 설정해 프로세스 간 균형있는 실행 시간을 확보하기 위함입니다.