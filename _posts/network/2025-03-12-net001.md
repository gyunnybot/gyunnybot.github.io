---
layout: single
title:  "IP 주소 표기 방식"
folder: "network"
categories:
  - network
permalink: categories/network/net001
tags: NETWORK
toc: true
toc_sticky: true
sidebar_main: true
published: true
---

## IP 주소의 구조
네트워크 간 통신을 위해 필요한 IP 주소는 0 ~ 255 범위의 10진수 4개(32비트)로 표기됩니다. 송신 호스트가 수신 호스트의 IP 주소를 알고 있다면 수많은 라우터를 거쳐 수신 호스트에 패킷을 송신할 수 있습니다.

IP 주소는 <span style="color: rgb(3, 150, 150); font-weight: bold;">`네트워크 주소(Network Address)`</span>와 <span style="color: rgb(3, 150, 150); font-weight: bold;">`호스트 주소(Host Address)`</span>로 이루어져 있습니다. 네트워크 주소는 호스트가 속하는 네트워크 범위를 특정하고, 호스트 주소는 해당 네트워크에 속한 각각의 호스트를 특정하는데 사용됩니다.

## 클래스풀 주소 체계
IP 주소를 설정할 때 32비트를 어떻게 네트워크 주소와 호스트 주소로 나누냐에 따라 클래스풀, 클래스리스 주소 체계로 구분할 수 있습니다.

<span style="color: rgb(3, 150, 150); font-weight: bold;">`클래스풀(Classful) 주소 체계`</span>는 네트워크와 호스트 주소를 8비트씩 고정적으로 끊어서 구분합니다. 클래스의 종류는 5가지가 있지만 실제 IP 주소를 분류하는 데에는 A, B, C 클래스가 사용됩니다.

A 클래스는 첫 1바이트를 네트워크 주소로 할당하며, 해당 바이트의 첫 번째 비트는 0으로 고정되어 있습니다. 따라서 A 클래스로 분류된 IP 주소는 `0.0.0.0 ~ 127.255.255.255` 사이의 범위를 가집니다.

B 클래스는 2바이트를 네트워크 주소로 사용합니다. 첫 바이트의 초기 2비트는 10으로 고정되어 있기 때문에 IP 주소 범위는 `128.0.0.0 ~ 191.255.255.255`로 제한됩니다.

C 클래스는 3바이트를 네트워크 주소로 사용하며 초기 3비트가 110으로 고정되어 있습니다. 주소 할당 범위는 `192.0.0.0 ~ 223.255.255.255`입니다.

## 클래스리스 주소 체계
클래스풀 주소 체계는 네트워크 또는 호스트 자원을 유동적으로 할당할 수 없다는 단점이 존재합니다.

예를 들어 300개의 호스트만 받으면 되는 네트워크를 설계해야 한다고 가정해봅시다. 클래스풀 주소 체계로 설정한다면 반드시 B 클래스로 선언해야만 모든 호스트를 받을 수 있습니다. 이는 약 6만개(2^16 = 65,536)의 주소 중 300개만 호스트를 식별하는 데 사용되기 때문에 주소 자원의 낭비로 이어지게 됩니다.

<span style="color: rgb(3, 150, 150); font-weight: bold;">`클래스리스(Classless) 주소 체계`</span>는 네트워크 주소로 할당할 비트를 1, 호스트 주소로 할당할 비트를 0으로 표기한 <span style="color: rgb(3, 150, 150); font-weight: bold;">`서브넷 마스크`</span>를 이용한 주소 체계 방식입니다. IP 주소와 서브넷 마스크 간에 AND 비트 연산을 진행하면 네트워크 주소를 결정할 수 있습니다.

서브넷 마스크에서 1의 개수를 IP 주소 옆에 표기하는 방식을 <span style="color: rgb(3, 150, 150); font-weight: bold;">`CIDR(Classless Inter-Domain Routing notation) 표기법`</span>이라고 합니다. 예를 들어 `192.168.20.3`을 클래스풀 주소 체계 B 클래스로 표기한 것과 동일한 표현 방식을 클래스리스 CIDR 방식으로 표기한다면 `192.168.20.3/16`으로 나타낼 수 있습니다.

## 브로드캐스트 주소, 할당 가능한 주소
같은 네트워크(서브넷)에 속한 모든 호스트에게 데이터를 보내기 위해 사용하는 IP 주소를 <span style="color: rgb(3, 150, 150); font-weight: bold;">`브로드캐스트 주소`</span>라고 합니다.
IP 주소와 주소 체계를 알고 있다면 브로드캐스트 주소를 구할 수 있습니다. 어떤 주소 체계든 간에 네트워크 주소는 IP 주소와 서브넷 마스크의 AND 연산을 통해 얻을 수 있으며, 브로드캐스트 주소는 해당 네트워크 주소에 호스트 주소의 비트를 1로 표기해 결정할 수 있습니다.

`192.168.200.102/26`의 네트워크, 브로드캐스트 주소를 구해보겠습니다. 해당 IP 주소는 클래스리스 주소 체계를 따르고 있으며 서브넷 마스크를 풀어 표현하면 `11111111 11111111 11111111 11000000`으로 나타낼 수 있습니다.

IP 주소와 비트 AND 연산을 통해 네트워크 주소를 구하면 `192.168.200.64`입니다. IP 주소의 마지막 바이트가 102이므로 이진수 `01100110`로 변환되며 서브넷 마스크 마지막 바이트인 `11000000`와 AND 연산을 진행하면 `01000000`, 64가 반환되기 때문입니다.

브로드캐스트 주소는 네트워크 주소에서 호스트 주소의 비트가 1인 값을 구합니다. 호스트 주소인 하위 6비트를 전부 1로 변경하여 `01 000000` -> `01 111111`로 나타낸 후 계산합니다. 따라서 브로드 캐스트 주소는 `192.168.200.127`로 결정됩니다.

<span style="color: rgb(3, 150, 150); font-weight: bold;">`할당 가능한 호스트 IP 주소`</span>는 네트워크 주소 다음부터 브로드캐스트 주소 이전까지의 주소를 말하며 `192.168.200.102/26`의 경우 `192.168.200.65 ~ 192.168.200.126` 범위를 호스트로 할당할 수 있습니다.