---
layout: single
title:  "리스코프 치환 원칙"
folder: "oop"
categories:
  - oop
permalink: categories/oop/1
toc: true
toc_sticky: true
sidebar_main: true
published: true
---

## 리스코프 치환 원칙
고전적인 직사각형과 정사각형 예시를 통해 리스코프 치환 원칙을 정리할 것이다. 아래 코드에서 Square는 Rectangle을 상속받는다.
```java
public class Rectangle {
    protected int width;
    protected int height;

    public void setWidth(int width) { this.width = width; }
    public void setHeight(int height) { this.height = height; }
    public int getArea() { return width * height; }
}

public class Square extends Rectangle {
    @Override
    public void setWidth(int width) {
        this.width = width;
        this.height = width;
    }

    @Override
    public void setHeight(int height) {
        this.width = height;
        this.height = height;
    }
}
```

Rectangle을 인자로 받아 사용하는 클라이언트 코드는 다형성에 의해 Square 타입을 받을 수 있는데, 가로세로가 고정되어 버리는 문제가 발생하게 된다.

수학적으로는 정사각형이라면 직사각형에 포함되지만, 상속 관계에서는 직사각형의 특징을 지워버리는 결과를 가져온다.

부모 클래스의 명세(약속)를 자식 클래스가 위반하지 않아야 한다. 보통 해당 문제는 명세를 인터페이스를 통해 역할을 분리하거나, 합성(Composition)을 활용함으로써 해결한다.