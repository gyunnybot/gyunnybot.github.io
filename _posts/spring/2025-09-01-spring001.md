---
layout: single
title:  "스프링이 HTTP 요청에 응답하는 방법"
folder: "spring"
categories:
  - spring
permalink: categories/spring/1
toc: true
toc_sticky: true
sidebar_main: true
published: true
---

<br><br>

스프링이 웹 요청에 응답하는 방식은 크게 정적 컨텐츠, MVC와 템플릿 엔진, API 세 가지로 나눌 수 있다. 각각의 방식은 용도와 상황에 따라 선택적으로 사용할 수 있다.

정적 컨텐츠는 HTML, CSS, JS, 이미지 같은 정적인 파일을 그대로 내려주는 방식(초기 웹 서버)이다. 스프링은 resources/static 폴더에 있는 파일을 찾아 클라이언트에 전달한다. 주로 회사 소개 페이지나 안내 문서, 이미지와 같은 변하지 않는 리소스를 제공할 때 사용된다. 내장 서버인 톰캣이 static에서 바로 html을 찾기 때문에 매핑(Mapping)이나 뷰 리졸버(viewResolver)를 사용하지 않는다(관련 컨트롤러 자체를 생성하지 않는다).

MVC와 템플릿 엔진은 서버에서 동적으로 HTML을 생성해 브라우저에 반환하는 방식이다. 컨트롤러가 요청을 받아 비즈니스 로직을 실행하고 모델에 데이터를 담으면, 뷰(Thymeleaf, JSP 등 템플릿 엔진)가 그 데이터를 이용해 HTML을 완성시킨 후 브라우저로 전달한다. 로그인 화면이나 회원가입 화면, 상품 목록과 같은 동적 웹 페이지를 제공할 때 주로 사용되며, 컨트롤러를 통한 매핑과 뷰 리졸버를 통한 템플릿 엔진 처리가 이루어진다.

마지막으로 API 방식이 있는데, 서버는 HTML을 내려주지 않고 JSON이나 XML과 같은 데이터를 그대로 반환한다. `@ResponseBody`를 사용해 객체를 JSON과 같은 데이터 형식으로 변환 후 전달하는 방식이다. 보통 프론트엔드와 백엔드가 분리된 구조에서 사용되며, React나 Vue 같은 프론트엔드 프레임워크, 모바일 앱, 외부 시스템과의 통신에서 주로 활용된다.

`@ResponseBody`를 사용하면 컨트롤러에서 반환하는 값이 뷰(View)로 가지 않고, HTTP 응답 메시지 본문에 직접 쓰인다. 이때 뷰 리졸버 대신에 HttpMessageConverter가 동작하는데, 기본 문자 처리에는 StringHttpMessageConverter가 사용되어 메시지 본문에 그대로 반환되고, Object 처리는 MappingJackson2HttpMessageConverter를 통해 직렬화되어 JSON 데이터로 변환된다.